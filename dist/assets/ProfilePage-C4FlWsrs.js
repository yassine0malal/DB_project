import{c as L,h as B,r as R,j as e,f as P,B as b,a as E,g as T,L as C}from"./index-B1TKH03G.js";import{d as v,D as G,a as z,b as O,c as _,e as V}from"./ShareModal-CNKdFKbW.js";import{u as $}from"./index.esm-D5AqophM.js";import{I as c}from"./input-CCyB3kA2.js";import{L as l}from"./label-DDSC-N37.js";import{P as F,M as U}from"./pen-square-ChBmOvKq.js";import{U as q,a as W,u as Y,P as Q}from"./PostCard-DmCHqHbX.js";import{M as A}from"./map-pin-C1CkJR1H.js";import{G as I}from"./graduation-cap-CM-s4NDS.js";import{C as y,a as f,b as u,d as j}from"./card-yrt95q4Q.js";import{B as k}from"./badge-CpBV-KiU.js";import{C as w}from"./clock-Cew70h3k.js";import{S as J}from"./shield-check-Zdhf_te5.js";import{L as K}from"./linkedin-BVSOGHxg.js";import{G as X}from"./globe-CY08mSIG.js";import{B as Z}from"./book-open-BdF_Z7j1.js";import{A as ee}from"./arrow-left-Dq8d_76k.js";import"./check-D4-FbOjS.js";import"./dropdown-menu-l-4mx64D.js";import"./en-US-Bnkcyeeb.js";import"./send-De83bHxe.js";import"./heart-C0FwWlPt.js";import"./share-2-BHjpIwdU.js";/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=L("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=L("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=L("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=L("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=L("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),H=B(a=>({profile:null,isLoading:!1,error:null,fetchProfile:async r=>{a({isLoading:!0,error:null});try{const s=await v.getUser(r);a({profile:s,isLoading:!1})}catch(s){a({error:s.message,isLoading:!1})}},updateProfile:async(r,s)=>{a({isLoading:!0,error:null});try{await v.updateUser(r,s);const i=await v.getUser(r);a({profile:i,isLoading:!1})}catch(i){a({error:i.message,isLoading:!1})}},updateDetails:async(r,s,i,g)=>{a({isLoading:!0,error:null});try{await v.updateUserDetails(r,s,i,g);const n=await v.getUser(r);a({profile:n,isLoading:!1})}catch(n){a({error:n.message,isLoading:!1})}}})),S=R.forwardRef(({className:a,...r},s)=>e.jsx("textarea",{className:P("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...r}));S.displayName="Textarea";const ie=({user:a,open:r,onOpenChange:s})=>{var x,N,M;const{updateProfile:i,updateDetails:g}=H(),[n,h]=R.useState(!1),{register:t,handleSubmit:m}=$({defaultValues:{firstName:a.firstName,lastName:a.lastName,email:a.email,avatarUrl:a.avatarUrl||"",bio:a.bio||"",major:a.role==="student"?a.major:"",level:a.role==="student"?a.level:"",officeLocation:a.role==="teacher"?a.officeLocation:"",officeHours:a.role==="teacher"?a.officeHours:"",currentResearch:a.role==="teacher"?a.currentResearch:"",adminRole:a.role==="admin"?a.adminRole:"",availabilityHours:a.role==="admin"?a.availabilityHours:"",emergencyContact:a.role==="admin"?a.emergencyContact:"",linkedin:((x=a.socialLinks)==null?void 0:x.linkedin)||"",github:((N=a.socialLinks)==null?void 0:N.github)||"",website:((M=a.socialLinks)==null?void 0:M.website)||""}}),p=async o=>{h(!0);try{await i(a.id,{firstName:o.firstName,lastName:o.lastName,bio:o.bio,avatarUrl:o.avatarUrl});const d={};a.role==="student"?(d.major=o.major,d.level=o.level,d.skills=a.skills||[],d.interests=a.interests||[],d.academicYear=a.academicYear||"2024-2025"):a.role==="teacher"?(d.department=a.department,d.officeLocation=o.officeLocation,d.officeHours=o.officeHours):a.role==="admin"&&(d.department=a.department,d.adminRole=o.adminRole);const D={linkedin:o.linkedin,github:o.github,website:o.website};await g(a.id,a.role,d,D),s(!1)}catch(d){console.error("Failed to update profile",d)}finally{h(!1)}};return e.jsx(G,{open:r,onOpenChange:s,children:e.jsxs(z,{className:"max-w-2xl max-h-[90vh] overflow-y-auto p-0 border-none bg-white dark:bg-gray-800 shadow-2xl",children:[e.jsx(O,{children:e.jsxs(_,{children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-xl shadow-lg shadow-blue-500/20 text-white",children:e.jsx(F,{className:"h-5 w-5"})}),"Modifier mon profil"]})}),e.jsxs("form",{onSubmit:m(p),className:"p-8 pt-6 space-y-10",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xs font-black text-blue-600 dark:text-blue-400 uppercase tracking-[0.2em]",children:"Informations Générales"}),e.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"firstName",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Prénom"}),e.jsx(c,{id:"firstName",...t("firstName"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 focus:ring-blue-500 transition-all font-medium py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"lastName",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Nom"}),e.jsx(c,{id:"lastName",...t("lastName"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 focus:ring-blue-500 transition-all font-medium py-6"})]})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"bio",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Bio"}),e.jsx(S,{id:"bio",...t("bio"),placeholder:"Parlez-nous de vous...",className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 focus:ring-blue-500 transition-all font-medium min-h-[120px] p-4 text-sm"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"avatarUrl",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"URL Photo de profil"}),e.jsx(c,{id:"avatarUrl",...t("avatarUrl"),placeholder:"https://...",className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 focus:ring-blue-500 transition-all font-medium py-6"})]})]}),a.role==="student"&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-top-2 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xs font-black text-indigo-600 dark:text-indigo-400 uppercase tracking-[0.2em]",children:"Détails Étudiant"}),e.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"major",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Filière"}),e.jsx(c,{id:"major",...t("major"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"level",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Niveau"}),e.jsx(c,{id:"level",...t("level"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]})]})]}),a.role==="teacher"&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-top-2 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xs font-black text-green-600 dark:text-green-400 uppercase tracking-[0.2em]",children:"Détails Enseignant"}),e.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"officeLocation",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Bureau"}),e.jsx(c,{id:"officeLocation",...t("officeLocation"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"officeHours",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Permanence"}),e.jsx(c,{id:"officeHours",...t("officeHours"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"currentResearch",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Recherches en cours"}),e.jsx(S,{id:"currentResearch",...t("currentResearch"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 min-h-[100px]"})]})]}),a.role==="admin"&&e.jsxs("div",{className:"space-y-6 animate-in slide-in-from-top-2 duration-500",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xs font-black text-rose-600 dark:text-rose-400 uppercase tracking-[0.2em]",children:"Détails Admin"}),e.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"adminRole",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Rôle Administratif"}),e.jsx(c,{id:"adminRole",...t("adminRole"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"availabilityHours",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Disponibilité"}),e.jsx(c,{id:"availabilityHours",...t("availabilityHours"),className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h3",{className:"text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em]",children:"Réseaux Sociaux"}),e.jsx("div",{className:"h-px flex-1 bg-gray-100 dark:bg-gray-700/50"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"linkedin",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"LinkedIn"}),e.jsx(c,{id:"linkedin",...t("linkedin"),placeholder:"URL LinkedIn",className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"github",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"GitHub"}),e.jsx(c,{id:"github",...t("github"),placeholder:"URL GitHub",className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]}),e.jsxs("div",{className:"space-y-2.5",children:[e.jsx(l,{htmlFor:"website",className:"text-[10px] font-black uppercase tracking-widest text-gray-400 dark:text-gray-500 ml-1",children:"Site Web"}),e.jsx(c,{id:"website",...t("website"),placeholder:"URL Site Web",className:"rounded-xl border-gray-100 dark:border-gray-700 dark:bg-gray-900/50 py-6"})]})]})]}),e.jsxs(V,{children:[e.jsx(b,{type:"button",variant:"ghost",onClick:()=>s(!1),className:"rounded-xl font-bold uppercase tracking-widest text-[10px]",children:"Annuler"}),e.jsx(b,{type:"submit",disabled:n,className:"bg-blue-600 hover:bg-blue-700 rounded-xl px-10 shadow-lg shadow-blue-500/20 font-bold uppercase tracking-widest text-[10px] transition-all active:scale-95 disabled:opacity-50",children:n?"Enregistrement...":"Enregistrer les modifications"})]})]})]})})},de=({user:a,isOwnProfile:r})=>{var p,x,N;const[s,i]=R.useState(!1),{user:g,followUser:n,unfollowUser:h}=E(),t=(p=g==null?void 0:g.following)==null?void 0:p.includes(a.id),m=()=>a.role==="student"?`${a.level} • ${a.major}`:a.role==="teacher"?`${a.title} • ${a.department}`:a.role==="admin"?`${a.adminRole} • ${a.department}`:"";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl overflow-hidden shadow-xl shadow-blue-500/5 border border-gray-100 dark:border-gray-700/50 transition-all duration-500 hover:shadow-2xl hover:shadow-blue-500/10",children:[e.jsxs("div",{className:"h-48 md:h-72 bg-gray-100 dark:bg-gray-900 relative overflow-hidden group",children:[a.coverUrl?e.jsx("img",{src:a.coverUrl,alt:"Cover",className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-700 animate-gradient-xy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),e.jsxs("div",{className:"px-6 md:px-10 pb-8 relative",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end -mt-20 md:-mt-16 mb-6",children:[e.jsxs("div",{className:"relative group/avatar",children:[e.jsx("div",{className:"h-32 w-32 md:h-40 md:w-40 rounded-full ring-[6px] ring-white dark:ring-gray-800 bg-white dark:bg-gray-800 overflow-hidden shadow-2xl transition-transform duration-500 group-hover/avatar:scale-105",children:a.avatarUrl?e.jsx("img",{src:a.avatarUrl,alt:a.firstName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-900/40 dark:to-indigo-900/40 flex items-center justify-center text-blue-600 dark:text-blue-400 text-4xl font-black",children:a.firstName[0]})}),e.jsx("div",{className:"absolute bottom-2 right-2 px-3 py-1 bg-blue-600 dark:bg-blue-500 text-white text-[10px] font-black rounded-full border-[3px] border-white dark:border-gray-800 shadow-lg uppercase tracking-wider backdrop-blur-md",children:a.role})]}),e.jsx("div",{className:"flex gap-3 mt-6 md:mt-0 pb-2",children:r?e.jsxs(b,{variant:"outline",className:"gap-2 rounded-xl px-5 hover:bg-gray-50 dark:hover:bg-gray-700 dark:border-gray-600 transition-all hover:shadow-md",onClick:()=>i(!0),children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{children:"Modifier mon profil"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(b,{variant:t?"outline":"default",className:P("gap-2 px-6 rounded-xl shadow-lg transition-all active:scale-95",t?"text-red-500 border-red-100 dark:border-red-900/30 bg-red-50/50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20 hover:text-red-600":"bg-blue-600 hover:bg-blue-700 shadow-blue-500/20"),onClick:()=>t?h(a.id):n(a.id),children:[t?e.jsx(q,{className:"h-4 w-4"}):e.jsx(W,{className:"h-4 w-4"}),e.jsx("span",{className:"font-bold",children:t?"Se désabonner":"Suivre"})]}),e.jsxs(b,{variant:"outline",className:"gap-2 px-5 rounded-xl dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 transition-all",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:"Message"})]})]})})]}),e.jsxs("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-10",children:[e.jsxs("div",{className:"flex-1 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-4xl font-black text-gray-900 dark:text-gray-100 tracking-tight flex items-center gap-3",children:[a.firstName," ",a.lastName,a.role==="teacher"&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500 animate-pulse",title:"Vérifié"})]}),e.jsx("p",{className:"text-lg text-blue-600 dark:text-blue-400 font-bold uppercase tracking-wide opacity-90",children:m()})]}),e.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gray-50/50 dark:bg-gray-700/30 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-600 dark:text-gray-300 transition-colors hover:bg-white dark:hover:bg-gray-700/50",children:[e.jsx(U,{className:"h-4 w-4 text-blue-500 dark:text-blue-400"}),e.jsx("span",{className:"font-medium",children:a.email})]}),a.role==="teacher"&&e.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gray-50/50 dark:bg-gray-700/30 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.jsx(A,{className:"h-4 w-4 text-orange-500"}),e.jsx("span",{className:"font-medium",children:a.officeLocation})]}),a.role==="student"&&e.jsxs("div",{className:"flex items-center gap-2.5 px-4 py-2 bg-gray-50/50 dark:bg-gray-700/30 rounded-xl border border-gray-100 dark:border-gray-700 text-gray-600 dark:text-gray-300",children:[e.jsx(I,{className:"h-4 w-4 text-indigo-500"}),e.jsx("span",{className:"font-bold tracking-wider",children:a.studentId})]})]})]}),e.jsxs("div",{className:"flex gap-2 p-1.5 bg-gray-50 dark:bg-gray-900/50 rounded-[22px] border border-gray-100 dark:border-gray-800 shrink-0 self-start md:self-center shadow-inner",children:[e.jsxs("div",{className:"text-center px-6 py-4 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 transition-transform hover:scale-105 cursor-pointer",children:[e.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-gray-100 leading-none",children:((x=a.followers)==null?void 0:x.length)||0}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-black uppercase tracking-widest mt-2 px-1",children:"Abonnés"})]}),e.jsxs("div",{className:"text-center px-6 py-4 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 transition-transform hover:scale-105 cursor-pointer",children:[e.jsx("p",{className:"text-3xl font-black text-gray-900 dark:text-gray-100 leading-none",children:((N=a.following)==null?void 0:N.length)||0}),e.jsx("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 font-black uppercase tracking-widest mt-2 px-1",children:"Abonnements"})]})]})]})]})]}),e.jsx(ie,{user:a,open:s,onOpenChange:i})]})},oe=({user:a,isOwnProfile:r})=>e.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-left-4 duration-1000",children:[e.jsxs(y,{className:"shadow-lg shadow-blue-500/5 border-gray-100 dark:border-gray-700/50 dark:bg-gray-800/50 backdrop-blur-sm overflow-hidden group",children:[e.jsx(f,{className:"pb-4 border-b border-gray-50 dark:border-gray-700/50",children:e.jsxs(u,{className:"text-base font-black flex items-center gap-3 text-gray-900 dark:text-gray-100 uppercase tracking-tight",children:[e.jsx("div",{className:"p-1.5 bg-blue-50 dark:bg-blue-900/30 rounded-lg group-hover:scale-110 transition-transform",children:e.jsx(re,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),"Informations"]})}),e.jsxs(j,{className:"pt-6 space-y-5 text-sm",children:[a.role==="student"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("span",{className:"text-gray-400 dark:text-gray-500 block text-[10px] font-black uppercase tracking-widest",children:"Filière"}),e.jsx("span",{className:"font-bold text-gray-800 dark:text-gray-200 text-base",children:a.major})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("span",{className:"text-gray-400 dark:text-gray-500 block text-[10px] font-black uppercase tracking-widest",children:"Niveau Académique"}),e.jsx(k,{variant:"outline",className:"font-black border-blue-100 dark:border-blue-900/50 text-blue-700 dark:text-blue-400 bg-blue-50/50 dark:bg-blue-900/20 px-3 py-1 rounded-lg",children:a.level})]}),e.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-900/50 rounded-xl border border-gray-100 dark:border-gray-800",children:[e.jsx("span",{className:"text-gray-500 dark:text-gray-400 text-[10px] font-black uppercase tracking-widest",children:"Statut"}),e.jsx(k,{variant:a.internshipStatus==="seeking_internship"?"default":"secondary",className:P("font-black text-[10px] uppercase tracking-tighter px-2.5",a.internshipStatus==="seeking_internship"?"bg-blue-600 shadow-lg shadow-blue-500/20":"dark:bg-gray-700 dark:text-gray-300"),children:a.internshipStatus==="seeking_internship"?"Recherche Stage":"À l'écoute"})]})]}),a.role==="teacher"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-800 hover:border-blue-200 dark:hover:border-blue-900/50 transition-colors",children:[e.jsxs("div",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-2 mb-2 text-[10px] font-black uppercase tracking-widest",children:[e.jsx(se,{className:"h-3.5 w-3.5"})," Département"]}),e.jsx("span",{className:"font-black text-gray-800 dark:text-gray-100 uppercase tracking-tighter",children:a.department})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[e.jsxs("div",{className:"p-3 bg-gray-50/50 dark:bg-gray-900/30 rounded-xl border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-1.5 mb-1.5 text-[9px] font-black uppercase tracking-widest",children:[e.jsx(A,{className:"h-3 w-3"})," Bureau"]}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:a.officeLocation})]}),e.jsxs("div",{className:"p-3 bg-green-50/30 dark:bg-green-900/10 rounded-xl border border-green-100/50 dark:border-green-900/30",children:[e.jsxs("div",{className:"text-green-600 dark:text-green-500 flex items-center gap-1.5 mb-1.5 text-[9px] font-black uppercase tracking-widest",children:[e.jsx(w,{className:"h-3 w-3"})," Permanence"]}),e.jsx("span",{className:"text-xs font-bold text-green-700 dark:text-green-400",children:a.officeHours})]})]})]})}),a.role==="admin"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"text-gray-400 dark:text-gray-500 flex items-center gap-2 mb-2 text-[10px] font-black uppercase tracking-widest",children:[e.jsx(J,{className:"h-3.5 w-3.5"})," Responsabilité"]}),e.jsx("span",{className:"font-black text-gray-800 dark:text-gray-100 uppercase tracking-tight",children:a.adminRole})]}),e.jsxs("div",{className:"p-4 bg-blue-50/30 dark:bg-blue-900/10 rounded-2xl border border-blue-100 dark:border-blue-900/20",children:[e.jsxs("div",{className:"text-blue-600 dark:text-blue-400 flex items-center gap-2 mb-2 text-[10px] font-black uppercase tracking-widest",children:[e.jsx(w,{className:"h-3.5 w-3.5"})," Disponibilité"]}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100",children:a.availabilityHours})]})]})})]})]}),a.role==="student"&&(a.skills||a.interests)&&e.jsxs(y,{className:"shadow-lg shadow-blue-500/5 border-gray-100 dark:border-gray-700/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsx(f,{className:"pb-4 border-b border-gray-50 dark:border-gray-700/50",children:e.jsxs(u,{className:"text-base font-black flex items-center gap-3 text-gray-900 dark:text-gray-100 uppercase tracking-tight",children:[e.jsx("div",{className:"p-1.5 bg-indigo-50 dark:bg-indigo-900/30 rounded-lg",children:e.jsx(ae,{className:"h-5 w-5 text-indigo-600 dark:text-indigo-400"})}),"Compétences"]})}),e.jsxs(j,{className:"pt-6 space-y-8",children:[a.skills&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] flex items-center gap-2",children:"MAÎTRISE TECHNIQUE"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map(s=>e.jsx(k,{variant:"secondary",className:"bg-gray-100 dark:bg-gray-700/50 text-gray-700 dark:text-gray-300 hover:bg-blue-600 hover:text-white dark:hover:bg-blue-600 dark:hover:text-white border-none px-3 py-1 text-[10px] font-bold transition-all transform hover:scale-105 cursor-default",children:s},s))})]}),a.interests&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 dark:text-gray-500 uppercase tracking-[0.2em] flex items-center gap-2",children:"PASSIONS ACADÉMIQUES"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.interests.map(s=>e.jsxs(k,{variant:"outline",className:"text-gray-500 dark:text-gray-400 border-gray-200 dark:border-gray-700 px-3 py-1 text-[10px] font-medium hover:border-blue-400 transition-colors",children:["#",s]},s))})]})]})]}),a.socialLinks&&e.jsxs(y,{className:"shadow-lg shadow-blue-500/5 border-gray-100 dark:border-gray-700/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsx(f,{className:"pb-4 border-b border-gray-50 dark:border-gray-700/50",children:e.jsx(u,{className:"text-base font-black text-gray-900 dark:text-gray-100 uppercase tracking-tight",children:"Réseaux"})}),e.jsxs(j,{className:"pt-4 space-y-2",children:[a.socialLinks.linkedin&&e.jsxs("a",{href:a.socialLinks.linkedin,target:"_blank",className:"flex items-center gap-3 text-xs font-black uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-blue-700 dark:hover:text-blue-400 transition-all p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl group border border-transparent hover:border-blue-100 dark:hover:border-blue-800",children:[e.jsx(K,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"})," LinkedIn"]}),a.socialLinks.github&&e.jsxs("a",{href:a.socialLinks.github,target:"_blank",className:"flex items-center gap-3 text-xs font-black uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-all p-3 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-xl group border border-transparent hover:border-gray-100 dark:hover:border-gray-600",children:[e.jsx(le,{className:"h-5 w-5 text-gray-400 group-hover:text-gray-900 dark:group-hover:text-white transition-colors"})," GitHub"]}),a.socialLinks.website&&e.jsxs("a",{href:a.socialLinks.website,target:"_blank",className:"flex items-center gap-3 text-xs font-black uppercase tracking-wider text-gray-500 dark:text-gray-400 hover:text-blue-500 transition-all p-3 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-xl group border border-transparent hover:border-blue-100 dark:hover:border-blue-800",children:[e.jsx(X,{className:"h-5 w-5 text-gray-400 group-hover:text-blue-500 transition-colors"})," Site Web"]})]})]}),a.role==="student"&&e.jsxs("div",{className:"p-6 bg-gradient-to-br from-blue-600 via-indigo-600 to-violet-700 rounded-3xl shadow-2xl shadow-blue-500/30 text-white overflow-hidden relative group transition-transform hover:scale-[1.02] duration-500",children:[e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h4",{className:"font-black text-[10px] uppercase tracking-[0.3em] opacity-80",children:"CARTE D'IDENTITÉ ÉTUDIANTE"}),e.jsx("p",{className:"text-3xl font-black tracking-tighter",children:a.level})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("p",{className:"text-sm font-medium border-l-2 border-white/30 pl-3 leading-tight opacity-90 uppercase tracking-wider",children:["Promotion",e.jsx("br",{}),e.jsx("span",{className:"text-lg font-black",children:a.academicYear})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-xl px-4 py-2.5 rounded-xl text-[11px] font-mono font-black inline-flex items-center gap-2 border border-white/20 shadow-inner",children:[e.jsx("span",{className:"opacity-50 tracking-widest uppercase",children:"Matricule :"})," ",a.studentId]})]})]}),e.jsx(I,{className:"absolute -bottom-6 -right-6 h-32 w-32 opacity-10 transform -rotate-12 group-hover:scale-110 group-hover:rotate-0 transition-all duration-700"}),e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-5",children:e.jsx("div",{className:"h-24 w-24 rounded-full border-[20px] border-white"})})]})]}),ce=({user:a})=>e.jsxs("div",{className:"space-y-6",children:[a.bio&&e.jsxs(y,{className:"shadow-sm border-gray-200",children:[e.jsx(f,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600"}),"À propos"]})}),e.jsx(j,{children:e.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap text-md",children:a.bio})})]}),a.role==="student"&&a.projects&&a.projects.length>0&&e.jsxs(y,{className:"shadow-sm border-gray-200",children:[e.jsx(f,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-blue-600"}),"Projets Réalisés"]})}),e.jsx(j,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.projects.map((r,s)=>e.jsxs("div",{className:"p-4 rounded-xl border border-gray-100 bg-gray-50/50 hover:bg-white hover:shadow-md transition-all group",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors uppercase text-xs tracking-wider mb-2",children:r.title}),e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-3",children:r.description}),r.url&&e.jsxs("a",{href:r.url,className:"text-xs font-bold text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["Voir le projet ",e.jsx(ne,{className:"h-3 w-3"})]})]},s))})]}),a.role==="teacher"&&e.jsxs(y,{className:"shadow-sm border-gray-200",children:[e.jsx(f,{children:e.jsxs(u,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5 text-blue-600"}),"Enseignement & Recherche"]})}),e.jsxs(j,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 mb-3 uppercase tracking-widest",children:"MATIÈRES ENSEIGNÉES"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.subjects.map(r=>e.jsx(k,{className:"bg-blue-50 text-blue-700 border-blue-100 hover:bg-blue-100",children:r},r))})]}),a.currentResearch&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 mb-3 uppercase tracking-widest",children:"RECHERCHES EN COURS"}),e.jsx("p",{className:"text-sm text-gray-700 bg-indigo-50/50 p-4 rounded-xl border border-indigo-100 italic leading-relaxed",children:a.currentResearch})]}),a.publications&&a.publications.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-[10px] font-black text-gray-400 mb-3 uppercase tracking-widest",children:"PUBLICATIONS RÉCENTES"}),e.jsx("ul",{className:"space-y-3",children:a.publications.map((r,s)=>e.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-3 p-2 hover:bg-gray-50 rounded-lg transition-colors border border-transparent hover:border-gray-100",children:[e.jsx("div",{className:"mt-1 h-5 w-5 rounded bg-blue-100 flex items-center justify-center flex-shrink-0 text-blue-600 text-[10px] font-bold",children:s+1}),r]},s))})]})]})]})]}),ne=({className:a})=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a,children:e.jsx("path",{d:"M7 17L17 7M17 7H7M17 7V17"})}),Ae=()=>{const{id:a}=T(),{user:r}=E(),{profile:s,fetchProfile:i,isLoading:g}=H(),{posts:n}=Y(),h=a||(r==null?void 0:r.id),t=!a||a===(r==null?void 0:r.id);R.useEffect(()=>{h&&i(h)},[h,i]);const m=t?s||r:s;if(g)return e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});if(!m)return e.jsxs("div",{className:"flex flex-col items-center justify-center p-20 text-center space-y-6",children:[e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 p-6 rounded-full animate-pulse",children:e.jsx(w,{className:"h-12 w-12 text-red-500 dark:text-red-400"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-gray-100",children:"Utilisateur introuvable"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-sm",children:"Nous n'avons pas pu trouver le profil que vous recherchez. Il se peut qu'il ait été supprimé ou que le lien soit erroné."})]}),e.jsx(C,{to:"/",children:e.jsx(b,{variant:"default",className:"shadow-lg shadow-blue-500/20",children:"Retour à l'accueil"})})]});const p=n.filter(x=>x.author.id===m.id);return e.jsxs("div",{className:"max-w-5xl mx-auto pb-20 space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsx(C,{to:"/",children:e.jsxs(b,{variant:"ghost",size:"sm",className:"mb-2 gap-2 text-gray-400 hover:text-blue-600 dark:text-gray-500 dark:hover:text-blue-400 transition-all group",children:[e.jsx(ee,{className:"h-4 w-4 group-hover:-translate-x-1 transition-transform"}),"Retour au fil d'actualité"]})}),e.jsx(de,{user:m,isOwnProfile:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 items-start",children:[e.jsx("div",{className:"lg:col-span-1 space-y-8",children:e.jsx(oe,{user:m,isOwnProfile:t})}),e.jsxs("div",{className:"lg:col-span-2 space-y-10",children:[e.jsx(ce,{user:m}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-1.5 bg-gradient-to-b from-blue-600 to-indigo-600 rounded-full"}),e.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-gray-100 tracking-tight uppercase",children:"Activités récentes"})]}),e.jsxs(k,{variant:"outline",className:"text-[10px] uppercase tracking-widest font-bold opacity-60",children:[p.length," Publications"]})]}),e.jsxs("div",{className:"space-y-8",children:[p.map(x=>e.jsx(Q,{post:x},x.id)),p.length===0&&e.jsx(y,{className:"border-dashed bg-gray-50/50 dark:bg-gray-800/20 dark:border-gray-700 border-2",children:e.jsxs("div",{className:"p-16 text-center space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full",children:e.jsx(w,{className:"h-8 w-8 text-gray-400 dark:text-gray-500"})})}),e.jsx("p",{className:"text-gray-400 dark:text-gray-500 font-bold uppercase tracking-widest text-xs",children:"Aucune publication récente."})]})})]})]})]})]})]})};export{Ae as ProfilePage};
